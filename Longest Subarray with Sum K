import java.util.HashMap;

public class Day43 {
    public static void main(String[] args) {
       int[] arr={5,2,2,5,1,1,1,1,4};
        System.out.println(longestSubarray(arr,4));
    }
    public static int longestSubarray(int[] arr, int k) {
      int maxResult=0;
      int preficSum=0;
      HashMap<Integer,Integer> map = new HashMap<>();
      map.put(0,-1);

      for (int i=0;i<arr.length;i++){
          preficSum+=arr[i];

          int temp=preficSum-k;
          if (map.containsKey(temp)){
              int result=i- map.get(temp);
              if (result>maxResult)
              maxResult=result;
              map.put(preficSum,i);
          }
          else {
              map.put(preficSum,i);
          }
      }

      return maxResult;
    }

}
